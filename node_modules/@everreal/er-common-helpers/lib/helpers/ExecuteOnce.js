"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ExecuteOnce = /** @class */ (function () {
    function ExecuteOnce() {
        this.setTimeout = null;
    }
    ExecuteOnce.prototype.execute = function (callback, timeout) {
        var _this = this;
        return new Promise(function (resolve) {
            if (!callback) {
                throw new Error('Parameter callback is required');
            }
            _this.tryDisableTimeout();
            _this.setTimeout = setTimeout(function () {
                resolve(callback());
            }, timeout);
        });
    };
    ExecuteOnce.prototype.tryDisableTimeout = function () {
        if (this.setTimeout) {
            clearTimeout(this.setTimeout);
            this.setTimeout = null;
        }
    };
    ExecuteOnce.prototype.clear = function () {
        this.tryDisableTimeout();
    };
    return ExecuteOnce;
}());
exports.ExecuteOnce = ExecuteOnce;
//# sourceMappingURL=ExecuteOnce.js.map